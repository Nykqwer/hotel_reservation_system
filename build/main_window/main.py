
# This file was generated by the Tkinter Designer by Parth Jadhav
# https://github.com/ParthJadhav/Tkinter-Designer


from pathlib import Path

# from tkinter import *
# Explicit imports to satisfy Flake8
from tkinter import Tk, Canvas, Entry, Text, Button, PhotoImage, Toplevel, messagebox
from build.main_window.home_page.main import Home
from build.main_window.guest.main import Guest
from build.main_window.rooms.gui11 import Room
from build.main_window.reservation.main import Reservation
from build.main_window.sales_dashboard.gui3 import salesDash
from build.main_window.hotel_dashboard.gui4 import hotelDash
from build.main_window.about_page.gui5 import aboutPage
OUTPUT_PATH = Path(__file__).parent
ASSETS_PATH = OUTPUT_PATH / Path(r"./assets")


def relative_to_assets(path: str) -> Path:
    return ASSETS_PATH / Path(path)


#window = Tk()

#window.geometry("1058x595")
#window.configure(bg = "#003B95")


def mainFrame():
    MainFrame()



class MainFrame(Toplevel):
    def __init__(self, *args, **kwargs):
        Toplevel.__init__(self, *args, **kwargs)
        
                
        self.title("Hotel Reservation System")
        self.geometry("1058x595")
        self.configure(bg = "#003B95")

        canvas = Canvas(
            self,
            bg = "#003B95",
            height = 595,
            width = 1058,
            bd = 0,
            highlightthickness = 0,
            relief = "ridge"
        )

        canvas.place(x = 0, y = 0)
        canvas.create_rectangle(
            0.0,
            99.0,
            1061.0,
            595.0,
            fill="#3775EF",
            outline="")

        self.button_image_1 = PhotoImage(
            file=relative_to_assets("button_1.png"))
        self.guest_btn = Button(
            self,
            image=self.button_image_1,
            borderwidth=0,
            highlightthickness=0,
            command=lambda:self.handle_btn_press(self.guest_btn,"guest"),
            relief="flat"
        )
        self.guest_btn.place(
            x=176.0,
            y=66.0,
            width=91.0,
            height=33.0
        )

        self.button_image_2 = PhotoImage(
            file=relative_to_assets("button_2.png"))
        self.reservation_btn = Button(
            self,
            image=self.button_image_2,
            borderwidth=0,
            highlightthickness=0,
            command=lambda: self.handle_btn_press(self.reservation_btn,"reservation"),
            relief="flat"
        )
        self.reservation_btn.place(
            x=267.0,
            y=66.0,
            width=138.0,
            height=33.0
        )

        self.button_image_3 = PhotoImage(
            file=relative_to_assets("button_3.png"))
        self.room_btn = Button(
            self,
            image=self.button_image_3,
            borderwidth=0,
            highlightthickness=0,
            command=lambda: self.handle_btn_press(self.room_btn,"room"),
            relief="flat"
        )
        self.room_btn.place(
            x=405.0,
            y=66.0,
            width=118.0,
            height=33.0
        )

        self.button_image_4 = PhotoImage(
            file=relative_to_assets("button_4.png"))
        self.home_btn = Button(
            self,
            image=self.button_image_4,
            borderwidth=0,
            highlightthickness=0,
            command=lambda: self.handle_btn_press(self.home_btn, "home"),
            relief="flat"
        )
        self.home_btn.place(
            x=523.0,
            y=66.0,
            width=94.0,
            height=33.0
        )

        canvas.create_rectangle(
            56.0,
            99.0,
            1058.0,
            595.0,
            fill="#FFFFFF",
            outline="")

        self.image_image_1 = PhotoImage(
            file=relative_to_assets("image_1.png"))
        image_1 = canvas.create_image(
            87.0,
            41.0,
            image=self.image_image_1
        )

        self.button_image_5 = PhotoImage(
            file=relative_to_assets("button_5.png"))
        self.home1_btn = Button(
            self,
            image=self.button_image_5,
            borderwidth=0,
            highlightthickness=0,
            command=lambda: self.handle_btn_press(self.home1_btn,"home"),
            relief="flat"
        )
        self.home1_btn.place(
            x=0.0,
            y=141.0,
            width=56.0,
            height=33.0
        )

        self.button_image_6 = PhotoImage(
            file=relative_to_assets("button_6.png"))
        self.sales_btn = Button(
            self,
            image=self.button_image_6,
            borderwidth=0,
            highlightthickness=0,
            command=lambda: self.handle_btn_press(self.sales_btn,"view-sales"),
            relief="flat"
        )
        self.sales_btn.place(
            x=0.0,
            y=189.0,
            width=56.0,
            height=33.0
        )

        self.button_image_7 = PhotoImage(
            file=relative_to_assets("button_7.png"))
        self.hotel_btn = Button(
            self,
            image=self.button_image_7,
            borderwidth=0,
            highlightthickness=0,
            command=lambda:self.handle_btn_press(self.hotel_btn,"view-hotel"),
            relief="flat"
        )
        self.hotel_btn.place(
            x=0.0,
            y=236.0,
            width=56.0,
            height=33.0
        )

        self.button_image_8 = PhotoImage(
            file=relative_to_assets("button_8.png"))
        self.about_btn = Button(
            self,
            image=self.button_image_8,
            borderwidth=0,
            highlightthickness=0,
            command=lambda:self.handle_btn_press(self.about_btn,"view-about"),
            relief="flat"
        )
        self.about_btn.place(
            x=0.0,
            y=284.0,
            width=56.0,
            height=33.0
        )

        self.button_image_9 = PhotoImage(
            file=relative_to_assets("button_9.png"))
        button_9 = Button(
            self,
            image=self.button_image_9,
            borderwidth=0,
            highlightthickness=0,
            command=lambda: print("button_9 clicked"),
            relief="flat"
        )
        button_9.place(
            x=0.0,
            y=551.0,
            width=56.0,
            height=44.0
        )
        self.windows = {
            "home": Home(self),
            "guest": Guest(self),
            "room": Room(self),
            "reservation": Reservation(self),
            "view-sales": salesDash(self),
            "view-hotel": hotelDash(self),
            "view-about": aboutPage(self),
               
         }
     
        
        self.handle_btn_press(self.home_btn, "home")
        #self.sidebar_indicator.place(x=0, y=124)
        self.resizable(False, False)
        self.mainloop()
        self.current_window.place(x=56, y=99, width=1002, height=496)
        self.current_window.tkraise()
    
     
    def place_sidebar_indicator(self):
        pass    
    
    def logout(self):
        confirm = messagebox.askyesno(
            "Confirm log-out", "Do you really want to log out?"
        )
        if confirm == True:
            user = None
            self.destroy()
            #LoginPota.gui5.loginPage()
     
    def handle_btn_press(self, caller, name):
        # Place the sidebar on respective button
        #self.sidebar_indicator.place(x=0, y=caller.winfo_y())

        # Hide all screens
        for window in self.windows.values():
            window.place_forget()

        # Set ucrrent Window
        self.current_window = self.windows.get(name)
        
        if name == "home" or name == "view-sales" or name == "view-hotel" or name == "view-about":
            self.windows[name].place(x=56, y=99, width=1002, height=496)
          
        else:
            self.windows[name].place(x=0, y=99, width=1064, height=496)
     

    def handle_dashboard_refresh(self):
        # Recreate the dash window
        self.windows["home"] = Home(self)


if __name__ == "__main__":
   main_window = MainFrame()
   main_window.mainloop()